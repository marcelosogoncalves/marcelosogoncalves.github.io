{%- comment -%}
Custom template for Jekyll Scholar entries
Place this file at: _layouts/project.liquid
Optimized for vertical list rendering (no Masonry).
"Year" field removed completely.
{%- endcomment -%}

<div class="project-card">
  {%- if entry.thumbnail -%}
    <img
      class="project-thumb"
      src="{{ entry.thumbnail | relative_url }}"
      alt="Thumbnail for {{ entry.title | strip }}"
      loading="lazy"
      decoding="async"
    >
  {%- endif -%}

  <h4 class="project-title">
    {%- if entry.html -%}
      <a href="{{ entry.html }}">{{ entry.title }}</a>
    {%- elsif entry.url -%}
      <a href="{{ entry.url }}">{{ entry.title }}</a>
    {%- else -%}
      {{ entry.title }}
    {%- endif -%}
  </h4>

  {%- if entry.author -%}
    <p class="project-authors">{{ entry.author }}</p>
  {%- endif -%}

  {%- if entry.status -%}
    <p class="project-meta">
      <strong>Status:</strong> {{ entry.status }}
    </p>
  {%- endif -%}

  {%- if entry.keywords -%}
    {%- assign kws = entry.keywords | split: ',' -%}
    <p class="project-keywords">
      {%- for kw in kws -%}
        <span class="tag">{{ kw | strip }}</span>
      {%- endfor -%}
    </p>
  {%- endif -%}

  {%- if entry.abstract -%}
    <details class="project-abstract">
      <summary>Abstract</summary>
      <p>{{ entry.abstract }}</p>
    </details>
  {%- endif -%}

  {%- assign links = "" -%}
  <div class="project-links">
    {%- if entry.pdf -%}
      <a href="{{ entry.pdf }}">ðŸ“„ PDF</a>
      {%- assign links = "y" -%}
    {%- endif -%}
    {%- if entry.slides -%}
      {%- if links != "" -%} Â· {%- endif -%}
      <a href="{{ entry.slides }}">ðŸ“Š Slides</a>
      {%- assign links = "y" -%}
    {%- endif -%}
    {%- if entry.code -%}
      {%- if links != "" -%} Â· {%- endif -%}
      <a href="{{ entry.code }}">ðŸ’» Code</a>
      {%- assign links = "y" -%}
    {%- endif -%}
    {%- if entry.website -%}
      {%- if links != "" -%} Â· {%- endif -%}
      <a href="{{ entry.website }}">ðŸ”— Project page</a>
    {%- endif -%}
  </div>
</div>
